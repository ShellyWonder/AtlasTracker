@model IEnumerable<AtlasTracker.Models.ViewModels.UserRolesViewModel>


<div class="row">
    <h2 class="m-t-0 h3"><b>Manage Member Roles </b></h2>
     <hr />
    <p class="text-light font-13 m-b-30">
        This form displays the current roles assigned to each member.
        Use the dropdown to select the role each member should be assigned.
        Once the role is selected, click "Assign Roles" to submit the form.
    </p>
    <div class="row">
        <div class="col-12">
            @foreach (var member in Model)
            {
                <div class="card m-3">
                    <div class="card-body">
                        <h3><strong class="text-info">@member.BTUser!.FullName</strong></h3>
                        <hr />
                        <form asp-action="ManageUserRoles" asp-controller="UserRoles" method=post>
                            <input type="hidden" asp-for="@member.BTUser.Id" />
                            <div class="row">
                                <div class="col-12">
                                    <div class="form-group">
                                        <label asp-for="@member.Roles" class="custom-label"> Roles for @member.BTUser.FullName </label>
                                        <select asp-for="@member.SelectedRoles" class="form-control" asp-items="@member.Roles" multiple>
                                        </select>
                                        <hr />
                                    </div>
                                    <div class="form-group">
                                        <input type="submit" value="Assign Role" class="btn btn-info" />
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

            }
        </div>
    </div>
</div>
